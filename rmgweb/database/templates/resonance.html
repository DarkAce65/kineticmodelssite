{% extends "base.html" %}

 #layout ul li {
    float: left;
    width: 100px;
    margin-top: 10px;
    margin-right: 20px;
    margin-bottom: 10px;
    margin-left: 20px;
    text-align: center;
    }

{% block title %}
RMG Resonance
{% endblock %}

{% block extrahead %}
    <script type="text/javascript">
        var show = function() {
        $('expoct').css('display', 'block');
        }
        var hide = function() {
        $('expoct').css('display', 'none');
        }
    </script>
{% endblock %}

{% block navbar_items %}
<li><a href="{% url 'molecule-search' %}">Molecule Search</a></li>
{% endblock %}

{% block sidebar_items %}
{% endblock %}

{% block page_title %}Resonance Structures{% endblock %}

{% block page_body %}
    <p>
        RMG generates resonance structures using templates in a restricted electronic structure search space (defined by atom types). So-generated resonance structures are subsequently filtered to identify representative structures which exclusively will be used to generate reactions in RMG.<br/>
        Cautious! The unrepresentative structures shown below might be incomplete, as an on-the-fly filtration feature prevents further exploration of resonance structures with a large deviation from an octet or a large charge separation.
    </p>
<h2>Representative Structures:</h2>
    <div style="display: flex; flex-wrap: wrap;">
        {% for struct, class in structure %}
            {% if 'repr' in class %}
                {% if 'repr_oct' in class %}
                    <div style="display: none;" class="{{ class }}">{{ struct|safe }}</div>
                {% else %}
                    <div class="{{ class }}">{{ struct|safe }}</div>
                {% endif %}
            {% endif %}
        {% endfor %}
    </div>

<h2>Unrepresentative Structures:</h2>
    <div style="display: flex; flex-wrap: wrap;">
        {% for struct, class in structure %}
            {% if 'unre' in class %}
                <div class="{{ class }}">{{ struct|safe }}</div>
            {% elif 'repr_expoct' in class %}
                <div style="display: none;" class="{{ class }}">{{ struct|safe }}</div>
            {% elif 'repr_oct' in class %}
                <div class="{{ class }}">{{ struct|safe }}</div>
            {% endif %}
        {% endfor %}
    </div>
    <div>
    <br/><strong>Want to see the representative structure in the other rule?</strong>
    </div>
    <button class="switch" type="button" onclick="$('.repr_expoct').toggle();$('.repr_oct').toggle()">Switch to Octet Representative</button>
    <script>
        $(function(){
            $(".switch").click(function () {
                $(this).text(function(i, text){
                    return text === "Switch to Octet Representative" ? "Switch to Expanded Octet Representative" : "Switch to Octet Representative";
                })
            });
        })
    </script>

    <div>
        <p>
            <strong>Hints:</strong><br/>
            <span style="color:red">RED BOX</span> indicates the input of user<br/>
            Expanded octet structures only accounts for sulfur-containing species currently
        </p>
    </div>
{% endblock %}
